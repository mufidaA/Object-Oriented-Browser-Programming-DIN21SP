<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Document</title>
    <style>
        .container {
        display: inline-blox;
        grid-gap: 30px;
        margin-left: 25%;
        margin-right: 25%;
        padding: 30px;
        align-content: center;
        }

        .container > div {
        text-align: center;
        padding: 30px 0;
        font-size: 30px;
        }
        
        .btn {
        background-color: black; 
        border: none; 
        color: white;
        padding: 12px 16px; 
        font-size: 16px; 
        cursor: pointer;
        border: 2px solid #4CAF50; 
     }

        .btn:hover {
        color: #4CAF50;
        }
        .nav {
        display: inline-block;
        min-height: fit-content;
        min-width:fit-content;
        position: sticky;
        top: 0;
        margin-left: 90%;

    }
    

    </style>
</head>
<body>
        <div class="nav">
            <button class="btn" onclick="updateHome()"><i class="fa fa-undo fa-fw"></i></button>
            <button class="btn"><i class="fa fa-shopping-cart"></i> (<span class="total-count"></span>)</button>
            
        </div>
        <div class="container" style="padding-bottom:2000px">
            <div id="column"></div>
       
        </div>

 
</body>
<script>      
    function updateHome(){ 
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
        var element = document.getElementById("column");
        element.innerHTML = "";
        for (var i = 0; i <=  10 ; i++) {
            fetch('https://dummyjson.com/products/' + i.toString()).then(res => res.json()).then(extractData); 
        }

    }

    updateHome();
    
    function extractData(product) {
        let column = document.getElementById("column");
            console.log(product); // to saee it
            console.log(utlImg = product.images[0]); //to see it
            console.log(product.brand); //to see it
            console.log(product.description);//to see it
            let id = product.id
            
        let newProduct =document.createElement("img");
            newProduct.src = product.images[0];
            column.appendChild(newProduct);
            newProduct.style.height = "300px";
        let productTitle = document.createElement("div");
            productTitle.innerHTML = product.brand +"<br>"  + product.title;
            column.appendChild(productTitle);
            newProduct.addEventListener("click", function(){ productDescription(id); });
    };
    
    function productDescription(id) {
        console.log(id); //tosee
        function productDetail(product) {
            var element = document.getElementById("column");
            element.innerHTML = product.description;
            for (var i = 0; i < product.images.length; i++) {
                newProduct =document.createElement("img");
                newProduct.src = product.images[i];
                element.appendChild(newProduct);
                if ( i < 1 ) {
                newProduct.style.display = "block";
                }
                else {newProduct.style.display = "inline-block";
                newProduct.style.width = "200px";
            }
            document.body.scrollTop = 0;
            document.documentElement.scrollTop = 0;

            }
            
           
        }
        fetch('https://dummyjson.com/products/' + id.toString()).then(res => res.json()).then(productDetail);
        } 
       // let addItemToCart = document.createElement("button");
       // addItemToCart.innerHTML = "add to cart";
       // column.appendChild(addItemToCart);

//}
/*
var shoppingCart = (function() {
// =============================
// Private methods and propeties
// =============================
cart = [];

// Constructor
function Item(name, price, count) {
this.name = name;
this.price = price;
this.count = count;
}

// Save cart
function saveCart() {
sessionStorage.setItem('shoppingCart', JSON.stringify(cart));
}

// Load cart
function loadCart() {
cart = JSON.parse(sessionStorage.getItem('shoppingCart'));
}
if (sessionStorage.getItem("shoppingCart") != null) {
loadCart();
}


// =============================
// Public methods and propeties
// =============================
var obj = {};

// Add to cart
obj.addItemToCart = function(name, price, count) {
for(var item in cart) {
  if(cart[item].name === name) {
    cart[item].count ++;
    saveCart();
    return;
  }
}
var item = new Item(name, price, count);
cart.push(item);
saveCart();
}
// Set count from item
obj.setCountForItem = function(name, count) {
for(var i in cart) {
  if (cart[i].name === name) {
    cart[i].count = count;
    break;
  }
}
};
// Remove item from cart
obj.removeItemFromCart = function(name) {
  for(var item in cart) {
    if(cart[item].name === name) {
      cart[item].count --;
      if(cart[item].count === 0) {
        cart.splice(item, 1);
      }
      break;
    }
}
saveCart();
}

// Remove all items from cart
obj.removeItemFromCartAll = function(name) {
for(var item in cart) {
  if(cart[item].name === name) {
    cart.splice(item, 1);
    break;
  }
}
saveCart();
}

// Clear cart
obj.clearCart = function() {
cart = [];
saveCart();
}

// Count cart 
obj.totalCount = function() {
var totalCount = 0;
for(var item in cart) {
  totalCount += cart[item].count;
}
return totalCount;
}

// Total cart
obj.totalCart = function() {
var totalCart = 0;
for(var item in cart) {
  totalCart += cart[item].price * cart[item].count;
}
return Number(totalCart.toFixed(2));
}

// List cart
obj.listCart = function() {
var cartCopy = [];
for(i in cart) {
  item = cart[i];
  itemCopy = {};
  for(p in item) {
    itemCopy[p] = item[p];

  }
  itemCopy.total = Number(item.price * item.count).toFixed(2);
  cartCopy.push(itemCopy)
}
return cartCopy;
}
*/




 </script> 
</html>